var AT_AjaxSearch={ajaxProductItems:function(r,d,s){var h="/search",t=new Array,o=r.val();jQuery.ajax({type:"GET",data:{q:"*"+o+"*",type:"",view:"json"},dataType:"json",url:h,complete:function(){jQuery(".searchbox").removeClass("s-loading"),s.removeClass("fake-search")},success:function(u){if(u.length>0){s.empty();for(var a=0;a<u.length&&!(a>=5);a++){var e=u[a],i=e.title,n=e.price,l=e.handle,c=e.featured_image,j="price",m=e.available?"":e.item_type=="product"?" sold-out ":" hide",n=e.available?e.price:e.out_stock_nofication,y=i.replace(new RegExp("("+o+")","gi"),'<span class="marked">$1</span>'),p='<li class="result-item just-added">\n                                      <a href="'.concat(l,'">\n                                        <span class="search-item-img">\n                                          <img src="').concat(c,'" />\n                                        </span>\n                                        <span class="search-item-title">').concat(y,'</span>\n                                        <span class="').concat(j," ").concat(m,'">').concat(n,"</span>\n                                      </a>\n                                    </li>");s.append(p),setTimeout(function(){s.children("li.result-item.just-added").removeClass("just-added").show()},300)}jQuery(".result-ajax-search .search-results li").length&&(jQuery(".result-ajax-search").show(),jQuery("li.fake-result").remove())}else s.html('<li class="result-item"><p>No result found for your search.</p></li>'),jQuery(".result-ajax-search").show(),jQuery(".search-quick-menu").hide()}})},ajaxSearch:function(r){var d,s,h=this,t=r.search_input.length>0?r.search_input:"#bc-product-search",o=r.result_wrapper.length>0?r.result_wrapper:".result-ajax-search",u=r.result_element.length>0?r.result_element:".search-results";$(document).on("keyup",t,AT_Main.debounceTime(function(a){var e=jQuery(this).val(),i=jQuery(this),l=jQuery(t).parents("form").parent().find(o),c=l.children(u);jQuery(".search-quick-menu").hide(),jQuery(".result-ajax-search").show(),a.keyCode!=8&&c.addClass("fake-search").html('<li class="fake-result"></li><li class="fake-result"></li><li class="fake-result"></li>'),e.length<1?(jQuery("#searchModal .result-ajax-search").hide(),c.empty(),jQuery(".search-quick-menu,.mobile-searchbox .result-ajax-search").show(),jQuery(".header-desktop .result-ajax-search").hide()):e.length>=2?(jQuery(this).removeClass("error warning valid").addClass("valid"),jQuery(".searchbox").addClass("s-loading"),!jQuery(t).hasClass("snize-input-style")&&h.ajaxProductItems(i,l,c)):(jQuery(this).removeClass("error warning valid").addClass("error"),c.html("<li><p>You must enter at least 2 characters.</p></li>"),jQuery(".result-ajax-search").show())},500)).on("blur",".navbar-form.search",AT_Main.debounceTime(function(a){var e=jQuery(this);jQuery("#bc-product-search").val(""),jQuery(".searchbox.mobile-searchbox").children("*:not(.navbar-form.search)").hide(),jQuery(".mobile-searchbox .search-results").empty(),AT_Main.getWidthBrowser()>991&&jQuery(".result-ajax-search").hide()},500)),jQuery(document).on("click",".search-drawer",function(){jQuery(".search-drawer-target").toggleClass("show"),jQuery("#bc-product-search").focus(),AT_Main.fixNoScroll()}),jQuery(document).on("click",".search-drawer-content .close",function(){jQuery(".search-drawer-target").removeClass("show"),AT_Main.fixReturnScroll()}),jQuery(document).on("click",".mobile-searchbox .close",function(){jQuery(".searchbox.mobile-searchbox").removeClass("active").children("*:not(.navbar-form.search)").hide(),setTimeout(function(){jQuery(".mobile-searchbox .result-ajax-search ul.search-results").empty()},500)}),jQuery(document).on("focus",".mobile-searchbox #bc-product-search",function(){jQuery(".mobile-searchbox .result-ajax-search").show(),jQuery(".searchbox.mobile-searchbox").addClass("active")}),jQuery(document).on("focusout",".mobile-searchbox",function(){setTimeout(function(){return jQuery(".searchbox.mobile-searchbox").removeClass("active")},500)}),jQuery(document).on("focus",".mobile-searchbox .navbar-form.search",function(){jQuery(".searchbox.mobile-searchbox").children("*:not(.navbar-form.search)").show()}),jQuery(document).on("focus",".header-desktop #bc-product-search",function(){jQuery(this).parents(".searchbox").addClass("is-focus"),jQuery(".header-desktop .search-quick-menu").show()}),jQuery(document).on("blur",".header-desktop #bc-product-search",function(){jQuery(this).parents(".searchbox").removeClass("is-focus"),jQuery(".header-desktop .search-quick-menu").hide()})},init:function(r){this.ajaxSearch(r)}};jQuery(document).ready(function(r){AT_AjaxSearch.init({search_input:"#bc-product-search",result_wrapper:".result-ajax-search",result_element:".search-results",strictly_mode:0})});
//# sourceMappingURL=/s/files/1/0260/3958/2792/t/32/assets/bc.ajax-search.js.map?v=182138589655962009471596089290
